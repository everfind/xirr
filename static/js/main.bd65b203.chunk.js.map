{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["App","useState","when","amount","data","setData","rate","setRate","className","href","target","rel","map","item","index","type","placeholder","value","onChange","e","tt","tIndex","Number","cls","onClick","filter","length","valid","message","hasNegtive","hasPositive","forEach","find","xirr","Date","alert","toFixed","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAsGeA,MAlGf,WACE,MAAwBC,mBAA6C,CACnE,CAAEC,KAAM,GAAIC,OAAQ,IACpB,CAAED,KAAM,GAAIC,OAAQ,MAFtB,mBAAOC,EAAP,KAAaC,EAAb,KAIA,EAAwBJ,mBAAiB,GAAzC,mBAAOK,EAAP,KAAaC,EAAb,KACA,OACE,sBAAKC,UAAU,wBAAf,UACE,oBAAGA,UAAU,eAAb,2CAEE,mBAAGA,UAAU,YAAYC,KAAK,8DAA8DC,OAAO,SAASC,IAAI,aAAhH,+BAFF,6VAOCP,EAAKQ,KAAI,SAACC,EAAMC,GACf,OACE,sBAAKN,UAAU,kCAAf,UACE,uBACEA,UAAU,2DACVO,KAAK,OACLC,YAAY,iCACZC,MAAOJ,EAAKX,KACZgB,SAAU,SAACC,GACTd,EAAQD,EAAKQ,KAAI,SAACQ,EAAIC,GAAL,OAAiBP,IAAUO,EAAS,CAAEnB,KAAMiB,EAAET,OAAOO,MAAOd,OAAQU,EAAKV,QAAWiB,SAGzG,uBACEZ,UAAU,0DACVO,KAAK,SACLC,YAAY,iCACZC,MAAOJ,EAAKV,OACZe,SAAU,SAACC,GACTd,EAAQD,EAAKQ,KAAI,SAACQ,EAAIC,GAAL,OAAiBP,IAAUO,EAAS,CAAEnB,KAAMW,EAAKX,KAAMC,OAAQmB,OAAOH,EAAET,OAAOO,QAAWG,SAG/G,wBACEZ,UAAWe,IAAI,QAAS,SAAU,UAAW,eAAgB,cAAe,UAAW,aAAc,OAAQ,OAAQ,OAAQ,QAC7HC,QAAS,WACPnB,EAAQD,EAAKqB,QAAO,SAACL,EAAIC,GAAL,OAAgBA,IAAWP,OAHnD,4BAnBoDA,MA8B1D,sBAAKN,UAAWe,IAAI,iBAApB,UACE,wBACEf,UAAWe,IAAI,QAAS,SAAU,UAAW,eAAgB,cAAe,UAAW,aAAc,OAAQ,OAAQ,OAAQ,QAC7HC,QAAS,WACPnB,EAAQ,GAAD,mBAAKD,GAAL,CAAW,CAAEF,KAAM,GAAIC,OAAQ,QAH1C,sCAQA,wBACEK,UAAWe,IAAI,QAAS,SAAU,UAAW,eAAgB,cAAe,UAAW,aAAc,OAAQ,OAAQ,QACrHC,QAAS,WACP,GAAKpB,EAAKsB,OAAV,CAIA,IAAIC,GAAQ,EACRC,EAAU,GACVC,GAAa,EACbC,GAAc,EAClB1B,EAAK2B,SAAQ,SAACX,GACPA,EAAGjB,QAAWiB,EAAGlB,KAIhBkB,EAAGjB,OAAS,EACd0B,GAAa,EACJT,EAAGjB,OAAS,IACrB2B,GAAc,IANhBH,GAAQ,EACRC,EAAU,gFASTD,EAIAE,GAAeC,EAIhB1B,EAAK4B,MAAK,SAACZ,GAAD,OAAQA,EAAGjB,WAASI,EAAQ0B,IAAK7B,EAAKQ,KAAI,SAACQ,GAAD,MAAS,CAAElB,KAAM,IAAIgC,KAAKd,EAAGlB,MAAOC,OAAQiB,EAAGjB,aAHrGgC,MAAM,uKAJNA,MAAMP,QApBNO,MAAM,sDAJZ,6BAqCF,oBAAG3B,UAAU,eAAb,iDAAmCc,OAAOhB,EAAO,KAAK8B,QAAQ,GAA9D,WCnFSC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.bd65b203.chunk.js","sourcesContent":["import cls from 'classnames';\nimport React, { useState } from 'react';\nimport xirr from 'xirr';\n\nfunction App() {\n  const [data, setData] = useState<{ when: string; amount: number }[]>([\n    { when: '', amount: '' as any },\n    { when: '', amount: '' as any },\n  ]);\n  const [rate, setRate] = useState<number>(0);\n  return (\n    <div className='container mx-auto m-4'>\n      <p className='mb-2 text-lg'>\n        本工具基于\n        <a className='text-blue' href='https://baike.baidu.com/item/XIRR%E5%87%BD%E6%95%B0/1495098' target='_blank' rel='noreferrer'>\n          XIRR 函数\n        </a>\n        来计算资金收益率，可计算多笔投资的综合收益率。每笔投入资金计为负值，该笔投入的最后的总资金量（本金+收益）计为正值。\n      </p>\n      {data.map((item, index) => {\n        return (\n          <div className='flex flex-row items-center mb-2' key={index}>\n            <input\n              className='block border rounded border-solid border-black  mr-2 p-2'\n              type='date'\n              placeholder='请选择日期'\n              value={item.when}\n              onChange={(e) => {\n                setData(data.map((tt, tIndex) => (index === tIndex ? { when: e.target.value, amount: item.amount } : tt)));\n              }}\n            />\n            <input\n              className='block border rounded border-solid border-black mr-2 p-2'\n              type='number'\n              placeholder='请输入金额'\n              value={item.amount}\n              onChange={(e) => {\n                setData(data.map((tt, tIndex) => (index === tIndex ? { when: item.when, amount: Number(e.target.value) } : tt)));\n              }}\n            />\n            <button\n              className={cls('block', 'border', 'rounded', 'border-solid', 'border-blue', 'bg-blue', 'text-white', 'mr-2', 'px-2', 'py-1', 'w-36')}\n              onClick={() => {\n                setData(data.filter((tt, tIndex) => tIndex !== index));\n              }}\n            >\n              删除\n            </button>\n          </div>\n        );\n      })}\n      <div className={cls('flex flex-row')}>\n        <button\n          className={cls('block', 'border', 'rounded', 'border-solid', 'border-blue', 'bg-blue', 'text-white', 'mr-2', 'px-2', 'py-1', 'w-36')}\n          onClick={() => {\n            setData([...data, { when: '', amount: '' as any }]);\n          }}\n        >\n          添加一行\n        </button>\n        <button\n          className={cls('block', 'border', 'rounded', 'border-solid', 'border-blue', 'bg-blue', 'text-white', 'px-2', 'py-1', 'w-36')}\n          onClick={() => {\n            if (!data.length) {\n              alert('请先输入资金信息~');\n              return;\n            }\n            let valid = true;\n            let message = '';\n            let hasNegtive = false;\n            let hasPositive = false;\n            data.forEach((tt) => {\n              if (!tt.amount || !tt.when) {\n                valid = false;\n                message = '某些资金信息补全，请补全~';\n              } else {\n                if (tt.amount < 0) {\n                  hasNegtive = true;\n                } else if (tt.amount > 0) {\n                  hasPositive = true;\n                }\n              }\n            });\n            if (!valid) {\n              alert(message);\n              return;\n            }\n            if (!hasNegtive || !hasPositive) {\n              alert('请确保输入的资金信息正确，至少两笔，一笔为负，一笔为正~');\n              return;\n            }\n            if (data.find((tt) => tt.amount)) setRate(xirr(data.map((tt) => ({ when: new Date(tt.when), amount: tt.amount }))));\n          }}\n        >\n          计算\n        </button>\n      </div>\n      <p className='mt-2 text-xl'>年化收益率：{Number(rate % 100).toFixed(2)}%</p>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}